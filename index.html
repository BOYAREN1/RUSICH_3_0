<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>РУСИЧ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
<body>
    <header class="header">
        <div class="logo-container">
            <img class="logo" src="image/129-1293585_open-triangle-symbol.png" alt="логотип">
            <h1 class="site-title">РУСИЧ</h1>
        </div>
        <ul class="nav-list">
            <li class="nav-item"><a href="index.html">Сервер</a></li>
            <li class="nav-item"><a href="events.html">Ивенты</a></li>
            <li class="nav-item"><a href="rules.html">Правила</a></li>
        </ul>
    </header>
    
    <section class="promo">
        <h1 class="promo_header">ИГРАЕМ ПО-НОВОМУ - СОХРАНЯЕМ ТРАДИЦИИ</h1>
        <div class="server-status">
            <div class="status-item">Сейчас на сервере: <span id="players" class="loading">загрузка...</span></div>
            <div class="status-item">Текущая карта: <span id="map" class="loading">загрузка...</span></div>
            <div class="status-item">Статус: <span id="status">не подключено</span></div>
        </div>
        <div class="button-container">
            <button class="promo_btn">Присоединиться</button>
            <button class="promo_btn2"><a class="link-rules" href="rules.html">Правила сервера</a></button>
        </div>
    </section>
    
    <section class="features">
        <h2 class="section-title">Что такое пати на сервере РУСИЧ?</h2>
        
        <div class="cards-container">
            <!-- Карточка 1 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Командное взаимодействие</h3>
                    <p class="card-text">Создаются небольшие группы для более тесного общения во время игр</p>
                </div>
            </div>
            
            <!-- Карточка 2 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-chess"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Обсуждение тактик</h3>
                    <p class="card-text">Игроки в одном пати могут вместе работать над улучшением своих навыков</p>
                </div>
            </div>
            
            <!-- Карточка 3 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Личное общение</h3>
                    <p class="card-text">Для комфортной и дружеской атмосферы, где можно обсуждать разные темы</p>
                </div>
            </div>
            
            <!-- Карточка 4 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-laugh-beam"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Веселье</h3>
                    <p class="card-text">Образование постоянных групп для совместных игр и веселья</p>
                </div>
            </div>
            
            <!-- Карточка 5 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Справедливая администрация</h3>
                    <p class="card-text">Комфортная атмосфера для всех игроков</p>
                </div>
            </div>
            
            <!-- Карточка 6 -->
            <div class="card">
                <div class="card-icon">
                    <i class="fas fa-calendar"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Интересные ивенты</h3>
                    <p class="card-text">Проведение ивентов связанных с историческими событиями</p>
                </div>
            </div>
        </div>
    </section>
    
    <section class="vip-section">
        <h2 class="section-title">РАСПРОДАЖА КИБЕРОРЕШНИК</h2>
        
        <div class="vip-cards">
            <!-- Карточка VIP 1 -->
            <div class="vip-card">
                <div class="vip-header">
                    <h3 class="vip-name">ПРОХОДКА</h3>
                    <div class="vip-price">150 ₽</div>
                    <div class="vip-duration">/ 30 ДНЕЙ</div>
                </div>
                <div class="vip-features">
                    <div class="vip-feature">
                        <i class="fas fa-terminal"></i>
                        <span>VIP очередь</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-id-badge"></i>
                        <span>Cтатус на сервере</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-server"></i>
                        <span>Смена сторон</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-users-slash"></i>
                        <span>Роль VIP в дискорде</span>
                    </div>
                    <a href="#" class="vip-button">BUY ACCESS</a>
                </div>
            </div>
            
            <!-- Карточка VIP 2 (популярная) -->
            <div class="vip-card">
                <div class="popular-badge">HOT</div>
                <div class="vip-header">
                    <h3 class="vip-name">КЛАНОВЫЙ-BAZA</h3>
                    <div class="vip-price">590 ₽</div>
                    <div class="vip-duration">/30 дней</div>
                </div>
                <div class="vip-features">
                    <div class="vip-feature">
                        <i class="fas fa-shield-alt"></i>
                        <span>VIP очередь</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-tank"></i>
                        <span>15 Человек</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-calendar-star"></i>
                        <span>Смена сторон</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-paint-roller"></i>
                        <span>Управление через дискорд</span>
                    </div>
                    <a href="#" class="vip-button">BUY ACCESS</a>
                </div>
            </div>
            
            <!-- Карточка VIP 3 -->
            <div class="vip-card">
                <div class="vip-header">
                    <h3 class="vip-name">Клановый-ультра</h3>
                    <div class="vip-price">999 ₽</div>
                    <div class="vip-duration">/30 дней</div>
                </div>
                <div class="vip-features">
                    <div class="vip-feature">
                        <i class="fas fa-crown"></i>
                        <span>VIP Преимущества</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-user-tie"></i>
                        <span>Доступ к админ-чату</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-tank-heavy"></i>
                        <span>30 человек</span>
                    </div>
                    <div class="vip-feature">
                        <i class="fas fa-id-card-alt"></i>
                        <span>Оформление клана в игре</span>
                    </div>
                    <a href="#" class="vip-button">BUY ACCESS</a>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <p class="footer-txt">© 2025 Клан "РУСИЧ" | Все права защищены</p>
        <p class="footer-txt">Неофициальное сообщество игроков Squad. Мы не аффилированы с Offworld Industries.</p>
        <div class="image-links-container">
            <a href="#" class="image-link">
                <img src="image/free-icon-telegram-2111646.png" alt="Телеграм">
                <span class="image-caption">Наш канал</span>
            </a>
            <a href="#" class="image-link">
                <img src="image/discord.png" alt="Дискорд">
                <span class="image-caption">Наш сервер</span>
            </a>
            <a href="#" class="image-link">
                <img src="image/free-icon-youtube-3670147.png" alt="YouTube">
                <span class="image-caption">Наш YouTube</span>
            </a>
            <a href="#" class="image-link">
                <img src="image/dataset-card.png" alt="RUTUBE">
                <span class="image-caption">Наш RUTUBE</span>
            </a>
        </div>
    </footer>

    <script>
        // Вариант 1: Использование BattleMetrics API (предпочтительный способ)
        async function fetchViaAPI() {
            try {
                // Ваш ключ API BattleMetrics (если есть)
                const API_KEY = '';
                const SERVER_ID = '20237222';
                
                const response = await fetch(`https://api.battlemetrics.com/servers/${SERVER_ID}${API_KEY ? '?access_token=' + API_KEY : ''}`);
                
                if (!response.ok) throw new Error('API error');
                
                const data = await response.json();
                
                document.getElementById('players').textContent = data.data.attributes.players;
                document.getElementById('map').textContent = data.data.attributes.details.map;
                document.getElementById('status').textContent = 'онлайн (API)';
                document.getElementById('status').className = 'success';
                
                return true;
            } catch (error) {
                console.log('API метод не сработал, пробуем альтернативы');
                return false;
            }
        }

        // Вариант 2: Использование JSONP-эмуляции через callback
        function fetchViaJSONP() {
            return new Promise((resolve) => {
                const callbackName = 'jsonp_callback_' + Math.round(100000 * Math.random());
                const script = document.createElement('script');
                
                window[callbackName] = function(data) {
                    delete window[callbackName];
                    document.body.removeChild(script);
                    
                    if (data && data.data) {
                        document.getElementById('players').textContent = data.data.attributes.players;
                        document.getElementById('map').textContent = data.data.attributes.details.map;
                        document.getElementById('status').textContent = 'онлайн (JSONP)';
                        document.getElementById('status').className = 'success';
                        resolve(true);
                    } else {
                        resolve(false);
                    }
                };
                
                script.src = `https://api.battlemetrics.com/servers/20237222?callback=${callbackName}`;
                document.body.appendChild(script);
                
                // Таймаут на случай ошибки
                setTimeout(() => {
                    if (window[callbackName]) {
                        delete window[callbackName];
                        document.body.removeChild(script);
                        resolve(false);
                    }
                }, 5000);
            });
        }

        // Вариант 3: Парсинг через серверный прокси (вам нужно создать свой)
        async function fetchViaProxy() {
            try {
                // Замените на URL вашего собственного прокси-сервера
                const proxyUrl = 'https://your-proxy-server.com/battlemetrics?serverId=20237222';
                const response = await fetch(proxyUrl);
                
                if (!response.ok) throw new Error('Proxy error');
                
                const data = await response.json();
                
                document.getElementById('players').textContent = data.players;
                document.getElementById('map').textContent = data.map;
                document.getElementById('status').textContent = 'онлайн (прокси)';
                document.getElementById('status').className = 'success';
                
                return true;
            } catch (error) {
                console.log('Proxy метод не сработал');
                return false;
            }
        }

        // Основная функция загрузки данных
        async function loadServerData() {
            // Пробуем разные методы по очереди
            if (await fetchViaAPI()) return;
            if (await fetchViaJSONP()) return;
            if (await fetchViaProxy()) return;
            
            // Если все методы не сработали
            document.getElementById('players').textContent = 'недоступно';
            document.getElementById('map').textContent = 'недоступно';
            document.getElementById('status').textContent = 'ошибка загрузки';
            document.getElementById('status').className = 'error';
        }

        // Загружаем данные при открытии страницы
        document.addEventListener('DOMContentLoaded', loadServerData);
        
        // Обновляем каждые 2 минуты
        setInterval(loadServerData, 120000);
    </script>
    <script>
  // Меню бургер
  const menuToggle = document.createElement('div');
  menuToggle.className = 'menu-toggle';
  menuToggle.innerHTML = '<span></span><span></span><span></span>';
  document.querySelector('.header').appendChild(menuToggle);
  
  const navList = document.querySelector('.nav-list');
  const menuItems = document.querySelectorAll('.nav-item');
  
  menuToggle.addEventListener('click', () => {
    menuToggle.classList.toggle('active');
    navList.classList.toggle('active');
  });
  
  // Закрытие меню при клике на пункт
  menuItems.forEach(item => {
    item.addEventListener('click', () => {
      menuToggle.classList.remove('active');
      navList.classList.remove('active');
    });
  });
  
  // Эффект при скролле
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      document.querySelector('.header').classList.add('scrolled');
    } else {
      document.querySelector('.header').classList.remove('scrolled');
    }
  });
</script>
<script>
  // Имитация загрузки данных сервера
  setTimeout(() => {
    document.getElementById('players').textContent = '24/50';
    document.getElementById('players').classList.remove('loading');
    
    document.getElementById('map').textContent = 'Fallujah';
    document.getElementById('map').classList.remove('loading');
    
    document.getElementById('status').textContent = 'онлайн';
    document.getElementById('status').style.color = '#4CAF50';
  }, 2000);
  
  // Анимация карточек при скролле
  const cards = document.querySelectorAll('.card, .vip-card');
  
  const animateCards = () => {
    cards.forEach((card, index) => {
      const cardPosition = card.getBoundingClientRect().top;
      const screenPosition = window.innerHeight / 1.3;
      
      if (cardPosition < screenPosition) {
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, index * 100);
      }
    });
  };
  
  // Инициализация
  window.addEventListener('load', () => {
    cards.forEach(card => {
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
      card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
    });
    animateCards();
  });
  
  window.addEventListener('scroll', animateCards);
</script>
</body>
</html>